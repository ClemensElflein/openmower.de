<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Open Mower â€“ Known Issues</title><link>/docs/versions/errata/</link><description>Recent content in Known Issues on Open Mower</description><generator>Hugo -- gohugo.io</generator><atom:link href="/docs/versions/errata/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: IC2 is INA180A3IDBVR which has inadequate voltage range</title><link>/docs/versions/errata/ic2-is-wrong/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/versions/errata/ic2-is-wrong/</guid><description>
&lt;p>Due to sourcing error, IC2 that was installed on the boards (INA180A3IDBVR) has a lower voltage rating than the original part. The voltage rating is 26V, but the mower needs 30V for the fully charged battery. That&amp;rsquo;s why some IC2 break after some time.&lt;/p>
&lt;figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 410px">
&lt;img class="card-img-top" src="/docs/versions/errata/ic2-is-wrong/datasheet_hu261e0485b3b413f543f60233d8adb6e6_34521_400x0_resize_q99_catmullrom_3.png" width="400" height="130">
&lt;/figure>
&lt;p>Symptoms:&lt;/p>
&lt;ul>
&lt;li>mower stops charging&lt;/li>
&lt;li>mower status topic reports 10A charging current, makes no sense with 2A fuses&lt;/li>
&lt;li>IC2 breaks (black residue on the PCB)&lt;/li>
&lt;/ul>
&lt;p>
&lt;figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 310px">
&lt;img class="card-img-top" src="/docs/versions/errata/ic2-is-wrong/burnt_tomm_huec2682cc2887a6815250d2e754807ccf_106051_300x0_resize_q99_catmullrom.jpg" width="300" height="400">
&lt;/figure>
&lt;figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 310px">
&lt;img class="card-img-top" src="/docs/versions/errata/ic2-is-wrong/burnt_vermut_hu7f8f8190ad90f61fee8dbc523d26e37a_88562_300x0_resize_q99_catmullrom.jpg" width="300" height="225">
&lt;/figure>
&lt;/p>
&lt;h2 id="determining-if-you-are-affected">Determining if you are affected&lt;/h2>
&lt;p>INA180A3IDBVR has marking &lt;code>1A9D&lt;/code>. If you see that - you are affected.&lt;br>
The good chip TSC101CILT is marked &lt;code>0106&lt;/code>.&lt;/p>
&lt;p>
&lt;figure>
&lt;img src="/docs/versions/errata/ic2-is-wrong/INA180A3IDBVR.png"
alt="Wrong INA180A3IDBVR"/> &lt;figcaption>
&lt;p>Wrong INA180A3IDBVR&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;img src="/docs/versions/errata/ic2-is-wrong/TSC101CILT.png"
alt="Good TSC101CILT"/> &lt;figcaption>
&lt;p>Good TSC101CILT&lt;/p>
&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;h2 id="solutions">Solutions&lt;/h2>
&lt;p>First, for many people, it&amp;rsquo;s just working. So if your mower worked for a couple of weeks, it might survive. In that case you don&amp;rsquo;t have to take any action. If your robot does not charge anymore, there are two options: Fixing the hardware or ignoring the error in software.&lt;/p>
&lt;p>I recommend replacing the IC to fix this issue.&lt;/p>
&lt;h3 id="option-1">Option 1&lt;/h3>
&lt;p>Replace IC2 with TSC101CILT &lt;em>(DigiKey &lt;code>497-6947-1-ND&lt;/code>, Mouser &lt;code>511-TSC101CILT&lt;/code>, TME &lt;code>TSC101CILT&lt;/code> or other major distributor).&lt;/em>&lt;/p>
&lt;p>The process is pretty simple to do with a normal soldering iron.&lt;br>
Disconnect all modules and power from the mainboard before starting the replacement.&lt;/p>
&lt;p>For replacement, follow these steps:&lt;/p>
&lt;ol>
&lt;li>For desoldering the IC, use a blob of solder to cover all pins of the IC. Heat it up and remove the part.&lt;/li>
&lt;li>Then clean the pads using desoldering wick.&lt;/li>
&lt;li>Add solder to one pad, position the part with one leg into the pad and let cool.&lt;/li>
&lt;li>Solder remaining legs, the part will not move anymore.&lt;/li>
&lt;/ol>
&lt;h3 id="option-2-disable-the-safety-check-in-firmware">Option 2: Disable the safety check in firmware.&lt;/h3>
&lt;p>The current sense IC prevents the charger from applying excessive current to the battery. This is one of three safety checks in the charging circuit:&lt;/p>
&lt;ol>
&lt;li>Fuse in the charging path&lt;/li>
&lt;li>IC2 to measure the current and shut down charging, if excessive current occurs&lt;/li>
&lt;li>Battery management system inside the battery to protect the battery.&lt;/li>
&lt;/ol>
&lt;p>If you feel that you don&amp;rsquo;t need the safety check and don&amp;rsquo;t want to switch the IC, you can disable the check in the firmware. We advise to do the hardware replacement instead.&lt;br>
&lt;strong>As always: Do this at your own risk.&lt;/strong>&lt;/p>
&lt;p>To do that, update your firmware, hard-coding charge current to -1A:
Replace&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">status_message&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">charging_current&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">float&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000">analogRead&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">PIN_ANALOG_CHARGE_CURRENT&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">3.3f&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">/&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">4096.0f&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">/&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">CURRENT_SENSE_GAIN&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#000">R_SHUNT&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>with&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">status_message&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">charging_current&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For mainstream kit versions, we prepared this already.&lt;br>
Just update your &lt;code>OM_HARDWARE_VERSION&lt;/code> in &lt;code>/boot/openmower/mower_config.txt&lt;/code> to use the firmware without charging current control.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Existing Version&lt;/th>
&lt;th>Change to&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0_13_X&lt;/td>
&lt;td>0_13_X_IGNORE_CHARGING_CURRENT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0_12_X&lt;/td>
&lt;td>0_12_X_IGNORE_CHARGING_CURRENT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0_11_X_WT901&lt;/td>
&lt;td>0_11_X_IGNORE_CHARGING_CURRENT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0_10_X_WT901&lt;/td>
&lt;td>0_10_X_IGNORE_CHARGING_CURRENT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0_9_X_WT901&lt;/td>
&lt;td>0_9_X_IGNORE_CHARGING_CURRENT&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Docs: Outdated firmware in the kit</title><link>/docs/versions/errata/outdated-firmware/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/versions/errata/outdated-firmware/</guid><description>
&lt;p>Pico firmware shipped with the kit was outdated.&lt;/p>
&lt;p>Symptoms:&lt;/p>
&lt;ul>
&lt;li>mower driving in circles, or showing an incorrect direction on the map&lt;/li>
&lt;/ul>
&lt;p>Solution:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="/docs/knowledge-base/firmware-update/">update the firmware&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Rain sensor cable is female, but male is needed</title><link>/docs/versions/errata/wrong-rain-sensor-cable/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/versions/errata/wrong-rain-sensor-cable/</guid><description>
&lt;p>This was a production error, but can be easily mitigated with a couple of pins from the pin header.
&lt;style>
.image-gallery {overflow: auto; margin-left: -1%!important;}
.image-gallery li {float: left; display: block; margin: 0 0 1% 1%; width: 24%;}
.image-gallery li a {text-align: center; text-decoration: none!important; color: #777;}
.image-gallery li a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
.image-gallery li a img {width: 100%; display: block;}
&lt;/style>
&lt;ul class="image-gallery">
&lt;li>
&lt;a href="/photo-guide/vermut-0.13/modify-rain-sensor-cable/1%20Take%20pin%20header_hu00443b47d164e086a71a3f8a7ce79b14_1046188_1600x1600_fit_q99_catmullrom.jpg" title="1 Take pin header" class="lightbox-image">
&lt;img class="nozoom" src="/photo-guide/vermut-0.13/modify-rain-sensor-cable/1%20Take%20pin%20header_hu00443b47d164e086a71a3f8a7ce79b14_1046188_400x400_fill_q95_catmullrom_smart1.jpg" alt="1 Take pin header" title="1 Take pin header">
&lt;span title="1 Take pin header">1 Take pin header&lt;/span>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="/photo-guide/vermut-0.13/modify-rain-sensor-cable/2%20Pry%202%20pins%20from%20harness_hucf7ddfef5d0ec1d511b55a6238cecbdb_963093_1600x1600_fit_q99_catmullrom.jpg" title="2 Pry 2 pins from harness" class="lightbox-image">
&lt;img class="nozoom" src="/photo-guide/vermut-0.13/modify-rain-sensor-cable/2%20Pry%202%20pins%20from%20harness_hucf7ddfef5d0ec1d511b55a6238cecbdb_963093_400x400_fill_q95_catmullrom_smart1.jpg" alt="2 Pry 2 pins from harness" title="2 Pry 2 pins from harness">
&lt;span title="2 Pry 2 pins from harness">2 Pry 2 pins from harness&lt;/span>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="/photo-guide/vermut-0.13/modify-rain-sensor-cable/3%20Insert%20them%20to%20smaller%20connector_hucf7ddfef5d0ec1d511b55a6238cecbdb_1065498_1600x1600_fit_q99_catmullrom.jpg" title="3 Insert them to smaller connector" class="lightbox-image">
&lt;img class="nozoom" src="/photo-guide/vermut-0.13/modify-rain-sensor-cable/3%20Insert%20them%20to%20smaller%20connector_hucf7ddfef5d0ec1d511b55a6238cecbdb_1065498_400x400_fill_q95_catmullrom_smart1.jpg" alt="3 Insert them to smaller connector" title="3 Insert them to smaller connector">
&lt;span title="3 Insert them to smaller connector">3 Insert them to smaller connector&lt;/span>
&lt;/a>
&lt;/li>
&lt;li>
&lt;a href="/photo-guide/vermut-0.13/modify-rain-sensor-cable/4%20Plug%20it%20to%20rain%20sensor%20connector%20either%20side_hucf7ddfef5d0ec1d511b55a6238cecbdb_1064497_1600x1600_fit_q99_catmullrom.jpg" title="4 Plug it to rain sensor connector either side" class="lightbox-image">
&lt;img class="nozoom" src="/photo-guide/vermut-0.13/modify-rain-sensor-cable/4%20Plug%20it%20to%20rain%20sensor%20connector%20either%20side_hucf7ddfef5d0ec1d511b55a6238cecbdb_1064497_400x400_fill_q95_catmullrom_smart1.jpg" alt="4 Plug it to rain sensor connector either side" title="4 Plug it to rain sensor connector either side">
&lt;span title="4 Plug it to rain sensor connector either side">4 Plug it to rain sensor connector either side&lt;/span>
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;/p></description></item></channel></rss>